{"version":3,"sources":["js/config.js","js/lookPath.js","js/movePathList.js","js/aniEffectMethod.js","js/positionMethod.js","js/enemyBulletType.js","js/createEnemy.js","js/script.js","js/shipBulletType.js","js/createShip.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["atc","isMobile","e","n","test","substr","navigator","userAgent","vendor","window","opera","moveFps","bulletFps","controlFps","shotFps","pixelWeigth","vwidth","innerWidth","innerHeight","vheight","exports","w","Math","floor","h","renderTime","bulletTime","controlTime","shotTime","moveTime","shipLife","renderData","enemy","enemyBullet","aniEffect","ps","rs","push","positionLimit","nowPosition","leftlimt","mainX","rightlimt","goStop","me","getST","position","find","el","index","splice","gostMove","thisY","r","nowY","margin","sin","PI","xMargin","call","goToOut","animation","totalRenCount","aniFn","renCount","fn","viewDom","indexOf","positionToXY","x","y","round","__x","__y","limit","xyToPosition","_x","positionTosXsY","sXsYToPosition","sx","sy","normal","bulletPs","time","prePs","count","taPs","p0","p1","t","_p0","_p1","realX","realY","look","clear","track","obj","name","life","shot","movePath","bulletType","deadCb","hit","survivalTime","wasHit","cb","includes","bestScore","localStorage","getItem","dead","grapic","color","forEach","psObj","beginPath","rect","fillStyle","fill","action","renderType","shipPs","enemyMove","shotCount","shotByEnemy","deadPs","enemyImg","document","getElementById","drawImage","bulletArr","dataFn","reduce","data","reCount","ruleObj","rule","script","Object","keys","key","Zark0","random","Zark1","Fort0","enemyPolling","enemyQuantity","arr","pathFn","realPosition","treble","deadPosition","killCount","bullet","isDead","bulletIndex","path","enemyMap","total","touchEnemy","fillRect","bind","shotPositon","margin1","margin2","margin3","margin4","ap0","ax","ay","bx","by","_wasHit","bulletPosition","grapicBullet","enemyBulleArr","thisBullet","map","bulletImg","nextPolling","pgCount","shotFn","keyType","UP","RIGHT","DOWN","LEFT","SPACE","keyCodeMap","keycode","type","mkII","actionMove","ship","shotDriver","closeShot","setInterval","clearInterval","gaphic","TYPE","bestMileage","shipLookType","createObj","zark","length","setItem","getContext","clearRect","bullt","bulletObj","style","backgroundPositionY","innerHTML","width","render","addEventListener","keyCode","touchAction","event","preventDefault","touches","pageX","pageY","_ps","height","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","module"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA,IAAIG,SAASC,QAAQ,cAAR,CAAb;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,UAAUD,KAAKE,SAAL,EAAd;AACAD,UAAQE,MAAR,GAAiB,YAAY;AAC3BH,SAAKI,MAAL;AACD,GAFD;AAGAH,UAAQI,IAAR,GAAeL,KAAKK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,KAAKC,GAAL,EAA/C;AACAR,OAAKS,UAAL,CAAgBC,YAAhB,CAA6BT,OAA7B,EAAsCD,KAAKW,WAA3C;AACD;;AAED,IAAIC,aAAa,IAAjB;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,eAAaE,WAAW,YAAY;AAClC,QAAIC,QAAQ/H,SAASgI,gBAAT,CAA0B,wBAA1B,CAAZ;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,MAAMlD,MAA1B,EAAkCoD,GAAlC,EAAuC;AACrC,UAAIpB,OAAOH,UAAP,CAAkBqB,MAAME,CAAN,EAASZ,IAA3B,MAAqCR,OAAOT,YAAP,EAAzC,EAAgE;AAC9DW,mBAAWgB,MAAME,CAAN,CAAX;AACD;AACF;;AAEDL,iBAAa,IAAb;AACD,GATY,EASV,EATU,CAAb;AAUD;;AAEDM,OAAO/O,OAAP,GAAiB0O,SAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AP7BA;;AACA;;kBAMe;AACb7K,UAAQ,gBAAUC,QAAV,EAAoBC,IAApB,EAA0B;AAChC,QAAIA,OAAO,EAAX;AACA,QAAIC,QAAQF,QAAZ;AACA,QAAIG,QAAQF,IAAZ;AACA,WAAO,UAAUG,IAAV,EAAgB;AACrBD;AACA,UAAIE,KAAK,oCAAeH,KAAf,CAAT;AACA,UAAII,KAAK,oCAAeJ,QAAQ,qBAAvB,CAAT;AACA,UAAIK,IAAI,IAAIN,IAAJ,IAAYA,OAAOE,KAAnB,CAAR;;AAEA,UAAIhB,IAAI/C,KAAKiD,KAAL,CAAWgB,GAAGlB,CAAH,GAAO,CAACmB,GAAGnB,CAAH,GAAOkB,GAAGlB,CAAX,IAAgBoB,CAAlC,CAAR;AACA,UAAInB,IAAIhD,KAAKiD,KAAL,CAAWgB,GAAGjB,CAAH,GAAO,CAACkB,GAAGlB,CAAH,GAAOiB,GAAGjB,CAAX,IAAgBmB,CAAlC,CAAR;;AAEA,UAAIC,MAAM,kCAAaN,KAAb,CAAV;AACA,UAAIO,MAAM,kCAAaP,QAAQ,qBAArB,CAAV;AACA,UAAIK,IAAI,IAAIN,IAAJ,IAAYA,OAAOE,KAAnB,CAAR;AACA,UAAIO,QAAQF,IAAIrB,CAAJ,GAAQ,CAACsB,IAAItB,CAAJ,GAAQqB,IAAIrB,CAAb,IAAkBoB,CAAtC;AACA,UAAII,QAAQH,IAAIpB,CAAJ,GAAQ,CAACqB,IAAIrB,CAAJ,GAAQoB,IAAIpB,CAAb,IAAkBmB,CAAtC;;AAEA,aAAO;AACL3C,kBAAU,oCAAeuB,CAAf,EAAkBC,CAAlB,CADL;AAELD,WAAGuB,KAFE;AAGLtB,WAAGuB,KAHE;AAILC,cAAM,OAJD;AAKLzE,WAAG,EALE;AAMLG,WAAG,EANE;AAOLuE,eAAOV,QAAQ,CAAC;AAPX,OAAP;AASD,KAxBD;AAyBD,GA9BY;AA+BbW,SAAO,eAAUd,QAAV,EAAoBC,IAApB,EAA0B;AAC/B,QAAIC,QAAQF,QAAZ;AACA,QAAIG,QAAQF,QAAQ,EAApB;AACA,QAAIK,KAAK,IAAT;AACA,QAAIG,MAAM,IAAV;AACA,WAAO,UAAUL,IAAV,EAAgB;AACrBD;AACA,UAAIE,KAAK,oCAAeH,KAAf,CAAT;AACA,UAAI,CAACI,EAAL,EAASA,KAAK,oCAAeF,IAAf,CAAL;AACT,UAAIG,IAAI,IAAI,EAAJ,IAAU,KAAKJ,KAAf,CAAR;AACA,UAAIhB,IAAI/C,KAAKiD,KAAL,CAAWgB,GAAGlB,CAAH,GAAO,CAACmB,GAAGnB,CAAH,GAAOkB,GAAGlB,CAAX,IAAgBoB,CAAlC,CAAR;AACA,UAAInB,IAAIhD,KAAKiD,KAAL,CAAWgB,GAAGjB,CAAH,GAAO,CAACkB,GAAGlB,CAAH,GAAOiB,GAAGjB,CAAX,IAAgBmB,CAAlC,CAAR;;AAEA,UAAIC,MAAM,kCAAaN,KAAb,CAAV;AACA,UAAI,CAACO,GAAL,EAAUA,MAAM,kCAAaL,IAAb,CAAN;AACV,UAAIG,IAAI,IAAI,EAAJ,IAAU,KAAKJ,KAAf,CAAR;AACA,UAAIO,QAAQF,IAAIrB,CAAJ,GAAQ,CAACsB,IAAItB,CAAJ,GAAQqB,IAAIrB,CAAb,IAAkBoB,CAAtC;AACA,UAAII,QAAQH,IAAIpB,CAAJ,GAAQ,CAACqB,IAAIrB,CAAJ,GAAQoB,IAAIpB,CAAb,IAAkBmB,CAAtC;;AAEA,aAAO;AACL3C,kBAAU,oCAAeuB,CAAf,EAAkBC,CAAlB,CADL;AAELD,WAAGuB,KAFE;AAGLtB,WAAGuB,KAHE;AAILC,cAAM,YAJD;AAKLzE,WAAG,EALE;AAMLG,WAAG,EANE;AAOLuE,eAAOV,QAAQ,CAAC,EAAT,IAAehB,IAAI,CAAnB,IAAwBA,IAAI,YAAI;AAPlC,OAAP;AASD,KAvBD;AAwBD;AA5DY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"spacewar.map","sourcesContent":["var atc = {\n  isMobile: function () {\n    var e = !1;\n    return function (n) {\n      (/(android|bb\\d+|meego).+mobile|iPad|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|webgolds|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(n.substr(0, 4))) && (e = !0)\n    }(navigator.userAgent || navigator.vendor || window.opera), e\n  }\n};\nvar moveFps = atc.isMobile() ? 40 : 40;\nvar bulletFps = atc.isMobile() ? 30 : 30;\nvar controlFps = atc.isMobile() ? 60 : 40;\nvar shotFps = 8;\nvar pixelWeigth = atc.isMobile() ? 10 : 15;\nvar vwidth = atc.isMobile() ? window.innerWidth : window.innerHeight >= window.innerWidth ? window.innerWidth : window.innerHeight/4*3;\nvar vheight = window.innerHeight;\n\nexports.atc = atc;\nexports.moveFps = moveFps;\nexports.bulletFps = bulletFps;\nexports.controlFps = controlFps;\nexports.pixelWeigth = pixelWeigth;\nexports.vwidth = vwidth;\nexports.vheight = vheight;\nexports.w = Math.floor(vwidth / pixelWeigth);\nexports.h = Math.floor(vheight / pixelWeigth);\nexports.renderTime = 1000 / moveFps;\nexports.bulletTime = 1000 / bulletFps;\nexports.controlTime = 1000 / controlFps;\nexports.shotTime = 1000 / shotFps;\nexports.moveTime = 1000 / 30;\nexports.shipLife = 5;\nexports.renderData = {\n  enemy: [],\n  enemyBullet: [],\n  aniEffect:[],\n};","import { w } from './config';\nexport default {\n  'zark': function (ps) {\n    var rs = [ps];\n    if (ps % w !== w - 1) {\n      rs.push(ps - w + 1);\n    }\n    if (ps % w !== 0 || ps == 0) {\n      rs.push(ps - w - 1);\n    }\n    return rs;\n  },\n  'fort': function (ps) {\n    var rs = [ps];\n    if (ps % w !== w - 1) {\n      rs.push(ps - w + 1);\n    }\n    if (ps % w !== 0 || ps == 0) {\n      rs.push(ps - w - 1);\n    }\n    if (ps - 2 * w > 0) {\n      rs.push(ps - 2 * w);\n    }\n    return rs;\n  },\n  'point':function(ps){\n    return [ps];\n  },\n  'MK-1': function (ps) {\n    var rs = [ps, ps + w, ps + 3 * w];\n    if (ps % w !== w - 1) {\n      rs.push(ps + 2 * w + 1);\n      rs.push(ps + 3 * w + 2);\n      rs.push(ps + 4 * w + 1);\n    }\n    if (ps % w !== 0) {\n      rs.push(ps + 2 * w - 1);\n      rs.push(ps + 3 * w - 2);\n      rs.push(ps + 4 * w - 1);\n    }\n    return rs;\n  },\n  'MK-2': function (ps) {\n    var rs = [ps, ps + w, ps + 3 * w];\n    if (ps % w !== w - 1) {\n      rs.push(ps + 2 * w + 1);\n    }\n    if (ps % w !== 0) {\n      rs.push(ps + 2 * w - 1);\n    }\n    return rs;\n  },\n  'MK-3': function (ps) {\n    var rs = [ps, ps + w, ps + 2 * w, ps + 4 * w,];\n    if (ps % w !== w - 1) {\n      rs.push(ps + 2 * w + 1);\n      rs.push(ps + 3 * w + 1);\n    }\n    if (ps % w !== 0) {\n      rs.push(ps + 2 * w - 1);\n      rs.push(ps + 3 * w - 1);\n    }\n    return rs;\n  },\n};","import { \n  w,\n  h,\n  renderData \n} from './config';\n\nfunction positionLimit(nowPosition) {\n  var leftlimt = this.mainX - (this.mainX % w);\n  var rightlimt = leftlimt + w - 1;\n  this.mainX += w;\n  if (nowPosition > rightlimt) {\n    return rightlimt;\n  }\n  if (nowPosition < leftlimt) {\n    return leftlimt;\n  }\n  return nowPosition;\n};\n\nexport default {\n  goStop: function () {\n    var me = this;\n    if (this.getST() < 6) this.position += w;\n    if (this.getST() > 80) this.position += w;\n    if (this.position > w * h - 1) {\n      renderData.enemy.find(function (el, index) {\n        if (el === me) renderData.enemy.splice(index, 1);\n      })\n    };\n  },\n  gostMove: function () {\n    var me = this;\n    var thisY = Math.floor(this.position / h);\n    var r = h / 4;\n    var nowY = Math.floor(this.mainX / w);\n    var margin = Math.sin(Math.PI / r * nowY);\n    var xMargin = Math.floor(margin * r);\n    //console.log(nowY, margin);\n    this.position = positionLimit.call(this, this.mainX + xMargin);\n    if (this.position > w * h - 1) {\n      renderData.enemy.find(function (el, index) {\n        if (el === me) renderData.enemy.splice(index, 1);\n      })\n    };\n  },\n  goToOut: function () {\n    this.position += w;\n    var me = this;\n    if (this.position > w * h - 1) {\n      renderData.enemy.find(function (el, index) {\n        if (el === me) renderData.enemy.splice(index, 1);\n      })\n    };\n  },\n};","import { renderData } from './config';\nexports.animation = function (totalRenCount,aniFn) {\n  var renCount = 1;\n  var fn = function (viewDom) {\n    if (renCount == totalRenCount) {\n      renderData.aniEffect.splice(renderData.aniEffect.indexOf(fn), 1);\n    }\n    aniFn(renCount,viewDom);    \n    renCount++;\n  }\n  return fn;\n};","import {\n  w,\n  h,\n  pixelWeigth,\n} from './config';\n\nexports.positionToXY = function (ps) {\n  var x = ps % w;\n  var y = Math.round((ps - x) / w);\n  return {\n    ps: ps,\n    x: x * pixelWeigth + pixelWeigth / 2,\n    y: y * window.innerHeight / h,\n    __x: x,\n    __y: y,\n    limit: w * h - 1,\n  };\n}\n\nexports.xyToPosition = function (x,y) {\n  var _x = (x - pixelWeigth / 2) / pixelWeigth;\n  var rs = y/pixelWeigth * w + _x;\n  return rs;\n}\n\nexports.positionTosXsY = function (position) {\n  var x = position % w;\n  var y = Math.round((position - x) / w);\n  return {\n    x:x,\n    y:y\n  };\n}\n\nexports.sXsYToPosition = function(sx,sy){\n  return sy*w+sx;\n}\n","import { w, h, pixelWeigth } from './config';\nimport {\n  positionToXY,\n  positionTosXsY,\n  sXsYToPosition,\n} from './positionMethod';\n\nexport default {\n  normal: function (bulletPs, time) {\n    var time = 45;\n    var prePs = bulletPs;\n    var count = time;\n    return function (taPs) {\n      count--;\n      var p0 = positionTosXsY(prePs);\n      var p1 = positionTosXsY(prePs + w * h);\n      var t = 1 / time * (time - count);\n\n      var x = Math.round(p0.x + (p1.x - p0.x) * t);\n      var y = Math.round(p0.y + (p1.y - p0.y) * t);\n\n      var _p0 = positionToXY(prePs);\n      var _p1 = positionToXY(prePs + w * h);\n      var t = 1 / time * (time - count);\n      var realX = _p0.x + (_p1.x - _p0.x) * t;\n      var realY = _p0.y + (_p1.y - _p0.y) * t;\n\n      return {\n        position: sXsYToPosition(x, y),\n        x: realX,\n        y: realY,\n        look: 'laser',\n        w: 20,\n        h: 60,\n        clear: count < -1,\n      }\n    }\n  },\n  track: function (bulletPs, time) {\n    var prePs = bulletPs;\n    var count = time || 30;\n    var p1 = null;\n    var _p1 = null;\n    return function (taPs) {\n      count--;\n      var p0 = positionTosXsY(prePs);\n      if (!p1) p1 = positionTosXsY(taPs);\n      var t = 1 / 25 * (25 - count);\n      var x = Math.round(p0.x + (p1.x - p0.x) * t);\n      var y = Math.round(p0.y + (p1.y - p0.y) * t);\n\n      var _p0 = positionToXY(prePs);\n      if (!_p1) _p1 = positionToXY(taPs);\n      var t = 1 / 25 * (25 - count);\n      var realX = _p0.x + (_p1.x - _p0.x) * t;\n      var realY = _p0.y + (_p1.y - _p0.y) * t;\n\n      return {\n        position: sXsYToPosition(x, y),\n        x: realX,\n        y: realY,\n        look: 'bulletBall',\n        w: 15,\n        h: 15,\n        clear: count < -15 || x < 0 || x > w - 1,\n      }\n    }\n  },\n}","import lookPath from './lookPath';\nimport movePathList from './movePathList';\nimport { animation } from './aniEffectMethod';\nimport { positionToXY } from './positionMethod';\nimport bulletTypeMap from './enemyBulletType';\nimport {\n  w,\n  h,\n  pixelWeigth,\n  renderData,\n  killCount,\n} from './config';\n\nfunction enemyMove() {\n  if (movePathList[this.movePath] && this.getST() % this.moveTime == 0) movePathList[this.movePath].call(this);\n}\n\nfunction shotByEnemy(position, bulletType, shipPs) {\n  var bulletArr = renderData.enemyBullet;\n  var dataFn = bulletTypeMap[bulletType](position);\n  if ( !bulletArr.reduce(function (rs, el) { return rs || (el.data.position === position) }, false) ) {\n    bulletArr.push({\n      data: dataFn(shipPs),\n      fn: dataFn,\n    })\n  };\n}\n\nexport default function (obj) {\n  this.name = obj.name; //名字\n  this.life = obj.life; //生命值\n  this.mainX = obj.position;\n  this.position = obj.position; //位置\n  this.shot = obj.shot; //會不會發射子彈\n  this.shotTime = obj.shotTime; //連發數\n  this.movePath = obj.movePath; //移動的路徑類型\n  this.moveTime = obj.moveTime || 1; // 移動間隔\n  this.look = obj.look;\n  this.bulletType = obj.bulletType || 'normal';\n\n  var deadCb = obj.deadCb || function () { };\n  var hit = false;\n  var survivalTime = 0;\n\n  this.getST = function () {\n    return survivalTime;\n  };\n  this.wasHit = function (bulletPs, viewDom, cb) {\n    var me = this;\n    if (lookPath[this.look](this.position).includes(bulletPs)) {\n      hit = true;\n      this.life--;\n      if (this.life < 1) {\n        renderData.enemy.find(function (el, index) {\n          if (el === me) {\n            var bestScore = localStorage.getItem('bestScore');\n            renderData.enemy.splice(index, 1);\n          }\n        })\n        this.dead();\n      } else {\n        this.grapic.call(this, viewDom);\n        if (cb) cb();\n      };\n    }\n  };\n\n  this.grapic = function (viewDom) {\n    var color = hit ? 'red' : 'white';\n    lookPath[this.look](this.position).forEach(function (ps, index) {\n      var psObj = positionToXY(ps);\n      viewDom.beginPath();\n      viewDom.rect(psObj.x - pixelWeigth / 2, psObj.y, pixelWeigth, pixelWeigth);\n      viewDom.fillStyle = color;\n      viewDom.fill();\n    });\n  };\n\n  this.action = function (renderType, viewDom, shipPs) {\n    this.grapic.call(this, viewDom);\n    if (renderType === 'OBJ_MOVE') {\n      enemyMove.call(this);\n      if (survivalTime % this.shotTime[0] < this.shotTime[1]) {\n        var shotCount = survivalTime % this.shotTime[0];\n        if (shotCount % this.shotTime[2] == 0) {\n          this.shot && shotByEnemy(this.position, this.bulletType, shipPs);\n        }\n      };\n      survivalTime++;\n      hit = false;\n    }\n  };\n\n  this.dead = function () {\n    var position = this.position;\n    var deadPs = positionToXY(position);\n    var enemyImg = document.getElementById(\"explosion\");\n    renderData.aniEffect.push(\n      animation(50, function (renCount, viewDom) {\n        viewDom.drawImage(enemyImg, deadPs.x - (50 - renCount) / 2, deadPs.y, 120 - renCount, 120 - renCount);\n      })\n    );\n    deadCb();\n  }\n\n}","import { w } from './config';\nimport createEnemy from './createEnemy';\n\nvar Zark0 = {\n  name: 'ZARK-ZERO',\n  life: 1,\n  position: Math.floor(Math.random() * w),\n  shot: true,\n  shotTime: [200, 54, 9],\n  movePath: 'gostMove',\n  moveTime: 5,\n  look: 'zark',\n  bulletType: 'normal',\n}\n\nvar Zark1 = {\n  name: 'ZARK-ZERO',\n  life: 3,\n  position: Math.floor(Math.random() * w),\n  shot: true,\n  shotTime: [200, 54, 9],\n  movePath: 'gostMove',\n  moveTime: 5,\n  look: 'zark',\n  bulletType: 'normal',\n}\n\nvar Fort0 = {\n  name: 'FORT',\n  life: 1,\n  position: Math.floor(Math.random() * w),\n  shot: true,\n  shotTime: [200, 54, 9],\n  movePath: 'goToOut',\n  moveTime: 5,\n  look: 'fort',\n  bulletType: 'track',\n}\n\nvar script = {\n  0: {\n    enemy: [Zark0],\n    enemyPolling: [20, 100],\n    enemyQuantity: 1,\n  },\n  800: {\n    enemy: [Zark0, Fort0],\n    enemyPolling: [15, 80],\n    enemyQuantity: 1,\n  },\n  1600: {\n    enemy: [Zark1, Fort0],\n    enemyPolling: [15, 75],\n    enemyQuantity: 1,\n  }\n\n};\n\nexport default function (reCount, ruleObj) {\n  var rule = script[reCount];\n  if (rule) {\n    Object.keys(rule).forEach(function (key) {\n      ruleObj[key] = rule[key];\n    })\n  }\n}","import { w, h, pixelWeigth } from './config';\nimport {\n  positionToXY,\n  positionTosXsY,\n  sXsYToPosition,\n} from './positionMethod';\n\nfunction normal(bulletPs, arr, time) {\n  var prePs = bulletPs;\n  function pathFn(taPs) {\n    prePs -= w;\n    var realPosition = positionToXY(prePs);\n    return {\n      position: prePs,\n      x: realPosition.x,\n      y: realPosition.y,\n      look: 'shipBulletNormal',\n      w: 20,\n      h: 60,\n      clear: prePs < 0,\n    }\n  }\n  arr.push({ data: pathFn(), fn: pathFn });\n};\n\nexport default {\n  normal: normal,\n  treble: function (bulletPs, arr, time) {\n    normal(bulletPs - 1, arr);\n    normal(bulletPs, arr);\n    normal(bulletPs + 1, arr);\n  },\n}","import lookPath from './lookPath';\nimport movePathList from './movePathList';\nimport shipBulletTtpe from './shipBulletType';\nimport { animation } from './aniEffectMethod';\nimport {\n  positionToXY,\n  positionTosXsY\n} from './positionMethod';\nimport {\n  w,\n  h,\n  pixelWeigth,\n  renderData,\n  killCount,\n} from './config';\n\nfunction bulletPosition() {\n  var bulletArr = this.bullet;\n  for (var key in bulletArr) {\n    bulletArr[key].data = bulletArr[key].fn();\n    if (bulletArr[key].data.clear) {\n      bulletArr.splice(key, 1);\n    };\n  }\n}\n\nfunction grapicBullet(viewDom) {\n  var enemyBulleArr = renderData.enemyBullet;\n\n  var thisBullet = this.bullet;\n\n  thisBullet.map(function (el) {\n    var ps = el.data.position;\n    var bulletImg = document.getElementById(el.data.look);\n\n    viewDom.drawImage(bulletImg, el.data.x - 13 / 2, el.data.y - 5, 13, 64);\n\n    // defense\n    enemyBulleArr.forEach(function (enemyBullet, index) {\n      if (enemyBullet.data.position === ps) {\n        enemyBulleArr.splice(index, 1);\n        thisBullet.splice(thisBullet.indexOf(el), 1);\n      }\n      if (enemyBullet.data.position === ps + w) {\n        enemyBulleArr.splice(index, 1);\n        thisBullet.splice(thisBullet.indexOf(el), 1);\n      }\n    });\n\n    // kill enemy\n    renderData.enemy.map(function (obj) {\n      obj.wasHit(ps, viewDom, function () {\n        thisBullet.splice(thisBullet.indexOf(el), 1);\n      });\n      obj.wasHit(ps + w, viewDom, function () {\n        thisBullet.splice(thisBullet.indexOf(el), 1);\n      });\n    })\n  })\n}\n\nexport default function (obj) {\n  this.name = obj.name; //名字\n  this.life = obj.life; //生命值\n  this.deadPosition = obj.position; //復活位置\n  this.position = obj.position; //位置\n  this.killCount = 0; //擊殺數\n  this.bullet = []; //子彈陣列\n  this.bulletType = 'normal';\n  this.look = obj.look;\n  this.isDead = false;\n\n  var deadCb = obj.deadCb || function () { };\n  var hit = false;\n\n  this.wasHit = function (bulletPs, bulletIndex, viewDom) {\n    var me = this;\n    var path = lookPath[this.look](this.position);\n    var enemyMap = renderData.enemy.reduce(function (total, el) {\n      return [...total, ...lookPath[el.look](el.position)]\n    }, []);\n    var touchEnemy = path.reduce(function (total, el) {\n      return total || enemyMap.includes(el);\n    }, false);\n    if (path.includes(bulletPs) || path.includes(bulletPs + w) || touchEnemy) {\n      this.life--;\n      renderData.aniEffect.push(\n        animation(10, function (renCount, viewDom) {\n          path.forEach(function (ps, index) {\n            var psObj = positionToXY(ps);\n            viewDom.fillStyle = 'rgba(255,0,0,.8)';\n            viewDom.fillRect(psObj.x - pixelWeigth / 2, psObj.y, pixelWeigth, pixelWeigth + 1);\n          });\n        }.bind(this))\n      );\n      renderData.enemyBullet.splice(bulletIndex, 1);\n      if (this.life < 1) {\n        this.life = 0;\n        this.isDead = true;\n        this.dead();\n      }\n    }\n  };\n\n  this.shot = function () {\n    if (!this.isDead) {\n      //\n      shipBulletTtpe[this.bulletType](this.position, this.bullet);\n      //\n      var shotPositon = this.position;\n      renderData.aniEffect.push(\n        animation(30, function (renCount, viewDom) {\n          var margin1 = 4 + Math.random() * 20;\n          var margin2 = 4 + Math.random() * 20;\n          var margin3 = Math.random() * 5;\n          var margin4 = Math.random() * 5;\n          var ap0 = positionToXY(shotPositon);\n          var t = 1 / 30 * (30 - renCount);\n\n          var ax = (1 - t) * (1 - t) * ap0.x + 2 * t * (1 - t) * ap0.x + t * t * (ap0.x - margin1);\n          var ay = (1 - t) * (1 - t) * ap0.y + 2 * t * (1 - t) * (ap0.y - margin1) + t * t * (ap0.y - margin1);\n          var bx = (1 - t) * (1 - t) * ap0.x + 2 * t * (1 - t) * ap0.x + t * t * (ap0.x + margin2);\n          var by = (1 - t) * (1 - t) * ap0.y + 2 * t * (1 - t) * (ap0.y - margin2) + t * t * (ap0.y - margin2);\n\n          viewDom.fillStyle = renCount % 2 ? 'rgba(255,255,255,.8)' : 'rgba(255,255,0,.8)';\n          viewDom.fillRect(ax - margin3, ay, 3, 3);\n          viewDom.fillRect(bx + margin4, by, 3, 3);\n        })\n      );\n\n    }\n  };\n\n  this.grapic = function (viewDom) {\n    var _wasHit = this.wasHit.bind(this);\n    var isDead = this.isDead;\n    bulletPosition.call(this);\n    grapicBullet.call(this, viewDom);\n\n    if (!isDead) {\n      lookPath[this.look](this.position).forEach(function (ps, index) {\n        var psObj = positionToXY(ps);\n        viewDom.beginPath();\n        viewDom.rect(psObj.x - pixelWeigth / 2, psObj.y, pixelWeigth, pixelWeigth + 1);\n        viewDom.fillStyle = 'white';\n        viewDom.fill();\n      });\n\n      renderData.enemyBullet.forEach(function (bullet, index) {\n        _wasHit(bullet.data.position, index, viewDom);\n      })\n    }\n  };\n\n  this.dead = function () {\n    var position = this.position;\n    var deadPs = positionToXY(position);\n    var enemyImg = document.getElementById(\"explosion\");\n    renderData.aniEffect.push(\n      animation(50, function (renCount, viewDom) {\n        viewDom.drawImage(enemyImg, deadPs.x - (50 - renCount) / 2, deadPs.y, 120 - renCount, 120 - renCount);\n        //console.log(renCount);\n        if (renCount == 50) {\n          this.life = obj.life;\n          this.position = this.deadPosition;\n          this.isDead = false;\n          this.bullet = [];\n        }\n      }.bind(this))\n    );\n    deadCb();\n  }\n\n}","import './main.css';\nimport lookPath from './js/lookPath';\nimport movePathList from './js/movePathList';\nimport script from './js/script';\nimport createEnemy from './js/createEnemy';\nimport createShip from './js/createShip';\nimport { animation } from './js/aniEffectMethod';\nimport { positionToXY } from './js/positionMethod';\nimport {\n  atc,\n  pixelWeigth,\n  w,\n  h,\n  renderTime,\n  bulletTime,\n  moveTime,\n  renderData,\n  controlTime,\n  vwidth,\n  vheight,\n  shipLife,\n  shotTime,\n} from './js/config';\n\nvar renCount = 0;\nvar nextPolling = 1;\nvar killCount = 0;\nvar pgCount = 0;\nvar shotFn;\nvar ruleObj = {};\n\nvar keyType = {\n  UP: false,\n  RIGHT: false,\n  DOWN: false,\n  LEFT: false,\n  SPACE: false\n}\n\nfunction keyCodeMap(keycode, type) {\n  var map = {\n    38: function () {\n      if (type == 'keydown') keyType.UP = true;\n      if (type == 'keyup') keyType.UP = false;\n    },\n    39: function () {\n      if (type == 'keydown') keyType.RIGHT = true;\n      if (type == 'keyup') keyType.RIGHT = false;\n    },\n    40: function () {\n      if (type == 'keydown') keyType.DOWN = true;\n      if (type == 'keyup') keyType.DOWN = false;\n    },\n    37: function () {\n      if (type == 'keydown') keyType.LEFT = true;\n      if (type == 'keyup') keyType.LEFT = false;\n    },\n    32: function () {\n      if (type == 'keydown') {\n        keyType.SPACE = true;\n        mkII.shot();\n      }\n      if (type == 'keyup') keyType.SPACE = false;\n    }\n  };\n\n  if (map[keycode]) {\n    map[keycode]();\n  }\n}\n\nfunction actionMove(ship) {\n  var action = {\n    UP: function () {\n      var ps = ship.position;\n      ship.position = (ps - w > -1) ? ps - w : ps;\n    },\n    RIGHT: function () {\n      var ps = ship.position;\n      if (ps + 1 <= w * h - 1) {\n        if ((ps + 1) % w !== 0) {\n          ship.position = ps + 1;\n        }\n      }\n    },\n    DOWN: function () {\n      var ps = ship.position;\n      var nowY = Math.round((ps - ps % w) / w);\n      if (ps + w < w * h) {\n        ship.position = (nowY < h) ? ps + w : ps;\n      }\n    },\n    LEFT: function () {\n      var ps = ship.position;\n      if (ps - 1 > -1) {\n        if (ps % w !== 0) {\n          ship.position = ps - 1;\n        }\n      }\n    },\n    SPACE: function () {\n      shotDriver();\n    }\n  };\n  for (var key in keyType) {\n    if (keyType[key] == true) action[key]();\n    //document.getElementById('debug').innerHTML = JSON.stringify(positionToXY(renderData.position), null, 2);\n  }\n  if (!keyType.SPACE) closeShot();\n}\n\nfunction shotDriver() {\n  if (!shotFn) {\n    shotFn = setInterval(function () {\n      mkII.shot();\n    }, shotTime);\n  }\n}\n\nfunction closeShot() {\n  clearInterval(shotFn);\n  shotFn = null;\n}\n\nfunction bulletPosition(shipPs) {\n  var enemyBulleArr = renderData.enemyBullet;\n  for (var key in enemyBulleArr) {\n    enemyBulleArr[key].data = enemyBulleArr[key].fn(shipPs);\n    if (enemyBulleArr[key].data.clear) {\n      enemyBulleArr.splice(key, 1);\n    };\n  }\n  //console.log(enemyBulleArr);\n}\n\nvar mkII = new createShip({\n  name: 'MK-2',\n  life: shipLife,\n  position: w * Math.floor(h / 2) - Math.floor(w / 2),\n  deadPosition: w * Math.floor(h / 2) - Math.floor(w / 2),\n  look: 'MK-2',\n  deadCb: function () {\n    killCount = 0;\n    renCount = 0;\n    nextPolling = 100;\n  }\n});\n\nfunction gaphic(TYPE) {\n  var bestScore = localStorage.getItem('bestScore') || 0;\n  var bestMileage = localStorage.getItem('bestMileage') || 0;\n  var shipLookType = 'MK-2';\n\n  script(renCount, ruleObj);\n  if (TYPE === 'OBJ_MOVE') {\n    var createObj = false;\n    if (renCount == nextPolling) {\n      for (var x = 0; x < ruleObj.enemyQuantity; x++) {\n        var zark = new createEnemy(ruleObj.enemy[(renCount % ruleObj.enemy.length)]);\n        renderData.enemy.push(zark);\n      }\n      nextPolling = renCount + Math.floor(Math.random() * ruleObj.enemyPolling[1] + ruleObj.enemyPolling[0]);\n    }\n\n    pgCount++;\n    renCount++;\n    if (bestMileage < renCount) localStorage.setItem('bestMileage', renCount);\n  }\n\n  if (TYPE === 'BULLET_MOVE') {\n    bulletPosition(mkII.position);\n  }\n\n  //canvas\n  var viewDom = document.getElementById('view').getContext('2d');\n  viewDom.clearRect(0, 0, vwidth, vheight);\n\n  // ship\n  mkII.grapic(viewDom);\n\n  //enmyBullet\n  renderData.enemyBullet.map(function (bullt) {\n    var bulletObj = positionToXY(bullt.data.position);\n    //viewDom.drawImage(enemyImg, bulletObj.x - 15 / 2, bulletObj.y - 5, 15, 15);\n    var enemyImg = document.getElementById(bullt.data.look);\n    viewDom.drawImage(enemyImg, bullt.data.x - 15 / 2, bullt.data.y - 5, bullt.data.w, bullt.data.h);\n  })\n\n  // enmy\n  renderData.enemy.map(function (obj) {\n    obj.action(TYPE, viewDom, mkII.position);\n  })\n\n  // effect\n  renderData.aniEffect.forEach(function (el) {\n    el(viewDom);\n  })\n\n  //bg\n  document.getElementById('view').style.backgroundPositionY = pgCount + 'px';\n\n  document.getElementById('score').innerHTML = 'Score: <div class=\"score\">' + killCount +\n    '</div><br/>Best score: ' + (localStorage.getItem('bestScore') || 0) +\n    '<br/> Mileage: ' + renCount +\n    '<br/> Best Mileage: ' + bestMileage +\n    '<br/> Life: ' + mkII.life;\n\n  document.getElementById('life').style.width = (100 / shipLife * mkII.life) + '%';\n\n}\n\nfunction render(TYPE) {\n  gaphic(TYPE);\n}\n\ndocument.addEventListener('keydown', function (e) {\n  keyCodeMap(e.keyCode, 'keydown');\n}, false);\ndocument.addEventListener('keyup', function (e) {\n  keyCodeMap(e.keyCode, 'keyup');\n}, false);\n\ndocument.addEventListener('touchstart', touchAction, false);\ndocument.addEventListener('touchmove', touchAction, false);\ndocument.addEventListener('touchend', closeShot, false);\n\nfunction touchAction(event) {\n  var event = event || window.event;\n  event.preventDefault();\n  if (event.touches[0]) {\n    var x = Math.floor(event.touches[0].pageX / pixelWeigth);\n    var y = Math.floor(event.touches[0].pageY / pixelWeigth);\n    var _ps = (w * y + x);\n    mkII.position = _ps;\n    shotDriver();\n    //document.getElementById(\"debug\").innerHTML = \"Touch moved (\" + x + \",\" + y + \"), \" + (w * y + x);\n  }\n}\n\ndocument.getElementById('view').height = vheight;\ndocument.getElementById('view').width = vwidth;\n\nsetInterval(function () {\n  render('OBJ_MOVE')\n}, renderTime);\n\n\nsetInterval(function () {\n  render('CONTROL_MOVE');\n  !atc.isMobile() && actionMove(mkII);\n}, controlTime);\n\n\nsetInterval(function () {\n  render('BULLET_MOVE');\n}, bulletTime);\n\n//todo *做了 -不做了\n\n//*敵機死亡效果\n//-分開敵人及主角機的lookPath\n//-組成像素可縮小\n//*敵機子彈種類多元\n\n//*主角機有血量\n// 主角機階段進化\n//*主角機物件化？\n\n//*子彈發射時間間隔可調整\n//*子彈發射時間pc與mobile驅動方式一致\n\n//*加入背景\n\n//*射擊效果\n// 增強道具\n//*主角機可切換子彈\n// 出彈頻率應該綁在SHIP物件\n\n// BOSS設計\n// 關卡設計","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}